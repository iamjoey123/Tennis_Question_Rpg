<html>
     <head>
    <style type="text/css">
      html, body { height: 60%; margin: 0; padding: 0; }
      #map { height: 100%; }
    </style>
  </head>
  <body>
    <div id="map"></div>
    <script type="text/javascript">
		if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(initMap);
		} else { 
			document.write("none!");
		}
		var map;
		var contents="You are here!";
		function initMap(position) {
			var directionsDisplay = new google.maps.DirectionsRenderer;
			var directionsService = new google.maps.DirectionsService;
		  map = new google.maps.Map(document.getElementById('map'), {
			center: {lat: position.coords.latitude, lng: position.coords.longitude},
			zoom: 15
		  });
		  var mypos = {lat: position.coords.latitude, lng: position.coords.longitude};
		  var mcpos = {lat: 25.1364802, lng: 121.78806980002};
		  var MyMarker = new google.maps.Marker({
			position: mypos,
			label: "You",
			map: map,
		  });
		  var McMarker = new google.maps.Marker({
			position: mcpos,
			map: map,
		  });
		  var infowindow = new google.maps.InfoWindow({
			content: contents
			});
			MyMarker.addListener('click', function() {
				infowindow.open(map, MyMarker);
			});
		  var flightPlanCoordinates =[
			mypos,
			mcpos
		  ];
		  var flightPath = new google.maps.Polyline({
			path: flightPlanCoordinates,
			geodesic: true,
			strokeColor: '#FF0000',
			strokeOpacity: 1.0,
			strokeWeight: 2
		  });
		  flightPath.setMap(map);
		  directionsDisplay.setMap(map);
		  calculateAndDisplayRoute(directionsService, directionsDisplay,mcpos,mypos);
		}
		function calculateAndDisplayRoute(directionsService, directionsDisplay,x,y) {
		  directionsService.route({
			origin: y,
			destination: x,  
			travelMode: google.maps.TravelMode["WALKING"]
		 }, function(response, status) {
			if (status == google.maps.DirectionsStatus.OK) {
			  directionsDisplay.setDirections(response);
			} else {
			  window.alert('Directions request failed due to ' + status);
			}
		  });
		}
		
		
    </script>
    <script async defer
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDaN7KbWd9XSScvywOvK9SCahUo-P6VyXU&callback=initMap">
    </script>
  </body>
</html>
